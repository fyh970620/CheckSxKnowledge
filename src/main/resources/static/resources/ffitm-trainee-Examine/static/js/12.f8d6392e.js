webpackJsonp([12],{"78tz":function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table1"},[a("div",{staticClass:"add cb"},[a("div",{staticClass:"add-left fl"},[e._v("人员信息")]),e._v(" "),a("div",{staticClass:"add-right fr"},[a("button",{on:{click:function(t){e.dialogFormVisible=!0}}},[e._v("新增信息")]),e._v(" "),a("button",{attrs:{plain:!0},on:{click:function(t){e.add()}}},[e._v("新增评价")])])]),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.personList,"tooltip-effect":"dark",type:"index"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"70"}}),e._v(" "),a("el-table-column",{attrs:{prop:"staff",label:"姓名","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.knowledgeOper(t.row)}}},[e._v(e._s(e._f("showStaffName")(t.row)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"baseAddress",label:"籍贯",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.examineOper(t.row)}}},[e._v(e._s(t.row.baseAddress))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"school",label:"毕业学校",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.examineOper(t.row)}}},[e._v(e._s(t.row.school))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"major",label:"专业",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.examineOper(t.row)}}},[e._v(e._s(t.row.major))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"groupTypevalue",label:"归属小组",width:"110"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.examineOper(t.row)}}},[e._v(e._s(t.row.groupTypevalue))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"staffTeacherName",label:"导师名称",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.examineOper(t.row)}}},[e._v(e._s(t.row.staffTeacherName))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"beginDate",label:"入司时间",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{on:{click:function(a){e.examineOper(t.row)}}},[e._v(e._s(t.row.beginDate))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.deletelist(e.personList.staffId,t.$index)}}},[a("i",{staticClass:"el-icon-delete delete"})]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){e.edit(t.row)}}},[a("i",{staticClass:"el-icon-edit"})])]}}])})],1),e._v(" "),a("el-dialog",{staticClass:"main-content",attrs:{title:"编辑",visible:e.dialogVisible,width:"60%",size:"mini"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"formName",attrs:{"label-position":e.labelPosition,inline:!0,"label-width":"130px",rules:e.rules,model:e.editDetail,size:"mini"}},[a("el-form-item",{attrs:{label:"人员",prop:"staffId"}},[[a("el-select",{attrs:{placeholder:"请选择人员"},model:{value:e.editDetail.staffId,callback:function(t){e.editDetail.staffId=t},expression:"editDetail.staffId"}},e._l(e.staffId,function(e){return a("el-option",{key:e.staffId,attrs:{label:e.staffname,value:e.staffId}})}))]],2),e._v(" "),a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{attrs:{placeholder:"学校",name:"school"},model:{value:e.editDetail.school,callback:function(t){e.editDetail.school=t},expression:"editDetail.school"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"籍贯",prop:"baseAddress"}},[a("el-input",{attrs:{placeholder:"籍贯",name:"baseAddress"},model:{value:e.editDetail.baseAddress,callback:function(t){e.editDetail.baseAddress=t},expression:"editDetail.baseAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"导师名称",prop:"staffTeacherName"}},[a("el-input",{attrs:{placeholder:"导师名称",name:"staffTeacherName"},model:{value:e.editDetail.staffTeacherName,callback:function(t){e.editDetail.staffTeacherName=t},expression:"editDetail.staffTeacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业",prop:"major"}},[a("el-input",{attrs:{placeholder:"专业",name:"major"},model:{value:e.editDetail.major,callback:function(t){e.editDetail.major=t},expression:"editDetail.major"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"归属组",prop:"staffGroupType"}},[[a("el-select",{attrs:{placeholder:"请选择归属小组"},model:{value:e.editDetail.staffGroupType,callback:function(t){e.editDetail.staffGroupType=t},expression:"editDetail.staffGroupType"}},e._l(e.staffGroupType,function(e){return a("el-option",{key:e.typeId,attrs:{label:e.typeValue,value:e.typeId}})}))]],2),e._v(" "),a("el-form-item",{attrs:{label:"入司日期",prop:"beginDate"}},[[a("el-date-picker",{attrs:{type:"date",placeholder:"选择入司日期","value-format":"yyyy-MM-dd"},model:{value:e.editDetail.beginDate,callback:function(t){e.editDetail.beginDate=t},expression:"editDetail.beginDate"}})]],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.update(e.editDetail,"formName")}}},[e._v("更新")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"main-content",attrs:{title:"新增",visible:e.dialogFormVisible,width:"60%",size:"mini"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"formName",attrs:{"label-position":e.labelPosition,inline:!0,"label-width":"130px",rules:e.rules,model:e.addDetail,size:"mini"}},[a("el-form-item",{attrs:{label:"人员",prop:"staffId"}},[[a("el-select",{attrs:{placeholder:"请选择人员"},model:{value:e.addDetail.staffId,callback:function(t){e.addDetail.staffId=t},expression:"addDetail.staffId"}},e._l(e.staffId,function(e){return a("el-option",{key:e.staffId,attrs:{label:e.staffname,value:e.staffId}})}))]],2),e._v(" "),a("el-form-item",{attrs:{label:"学校",prop:"school"}},[a("el-input",{attrs:{placeholder:"学校",name:"school"},model:{value:e.addDetail.school,callback:function(t){e.addDetail.school=t},expression:"addDetail.school"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"籍贯",prop:"baseAddress"}},[a("el-input",{attrs:{placeholder:"籍贯",name:"baseAddress"},model:{value:e.addDetail.baseAddress,callback:function(t){e.addDetail.baseAddress=t},expression:"addDetail.baseAddress"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"导师名称",prop:"staffTeacherName"}},[a("el-input",{attrs:{placeholder:"导师名称",name:"staffTeacherName"},model:{value:e.addDetail.staffTeacherName,callback:function(t){e.addDetail.staffTeacherName=t},expression:"addDetail.staffTeacherName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"专业",prop:"major"}},[a("el-input",{attrs:{placeholder:"专业",name:"major"},model:{value:e.addDetail.major,callback:function(t){e.addDetail.major=t},expression:"addDetail.major"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"归属组",prop:"staffGroupType"}},[[a("el-select",{attrs:{placeholder:"请选择归属小组"},model:{value:e.addDetail.staffGroupType,callback:function(t){e.addDetail.staffGroupType=t},expression:"addDetail.staffGroupType"}},e._l(e.staffGroupType,function(e){return a("el-option",{key:e.typeId,attrs:{label:e.typeValue,value:e.typeId}})}))]],2),e._v(" "),a("el-form-item",{attrs:{label:"入司日期",prop:"beginDate"}},[[a("el-date-picker",{attrs:{type:"date",placeholder:"选择入司日期","value-format":"yyyy-MM-dd"},model:{value:e.addDetail.beginDate,callback:function(t){e.addDetail.beginDate=t},expression:"addDetail.beginDate"}})]],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.adddetail(e.addDetail,"formName")}}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取消")])],1)],1),e._v(" "),a("div",{staticClass:"hello"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[5,10],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.pageSizeChange,"current-change":e.currentPageChange}})],1)],1)},i=[],o={render:l,staticRenderFns:i};t.a=o},"7d1p":function(e,t,a){var l=a("nUmb");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("X/Wc")("45ac0256",l,!0,{})},AHrn:function(e,t,a){"use strict";function l(e){a("7d1p")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("E/ic"),o=a.n(i);for(var s in i)"default"!==s&&function(e){a.d(t,e,function(){return i[e]})}(s);var n=a("78tz"),r=a("/4AN"),d=l,f=r(o.a,n.a,!1,d,"data-v-159ddcf0",null);t.default=f.exports},"E/ic":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("CxL4"),i=function(e){return e&&e.__esModule?e:{default:e}}(l);t.default={name:"table1",data:function(){return{rules:{staffId:[{required:!0,message:"请选择人员",trigger:"blur"}],baseAddress:[{required:!0,message:"请输入籍贯",trigger:"blur"}],staffTeacherName:[{required:!0,message:"请输入导师名称",trigger:"blur"}],major:[{required:!0,message:"请输入专业",trigger:"blur"}],staffGroupType:[{required:!0,message:"请选择归属小组",trigger:"blur"}],school:[{required:!0,message:"请输入学校名称",trigger:"blur"}],beginDate:[{required:!0,message:"请选择入司日期",trigger:"blur"}]},dialogVisible:!1,dialogFormVisible:!1,addDetail:{staffId:"",staffGroupType:"",beginDate:""},staffId:"",staffGroupType:"",beginDate:"",editDetail:{},index:0,personList:[],subjectName:"",staffname:"",staffID:"",editid:"",checkStaffId:"",multipleSelection:[],currentPage:1,pageSize:10,total:""}},mounted:function(){this.getselect(),this.getAauthor(),this.getList()},filters:{showStaffName:function(e){return e.staff?e.staff.staffname:""}},methods:{getselect:function(){var e=this;i.default.getListGroupType().then(function(t){e.staffGroupType=t.data}).catch(function(e){console.log(e)}),i.default.getListSxByGType().then(function(t){e.staffId=t.data,console.log(e.staffId)}).catch(function(e){console.log(e)})},getAauthor:function(){var e=this;i.default.getListSxByGType().then(function(t){console.log(t),e.Aauthor=t.data[4],console.log(e.Aauthor),e.staffname=e.Aauthor.staffname,e.staffID=e.Aauthor.staffId}).catch(function(e){console.log(e)})},getList:function(){var e=this,t={pages:this.currentPage,pageSize:this.pageSize};console.log(t),i.default.selectListAll(t).then(function(t){console.log(t),e.personList=t.data.list,e.total=t.data.total,console.log(e.personList)}).catch(function(e){console.log(e)})},deletelist:function(e,t){var a=this;this.$confirm("确认删除？").then(function(e){var l={staffId:a.personList[t].staffId};console.log(l),i.default.delOneStaffInfo(l).then(function(e){console.log(e),a.getList()}).catch(function(e){console.log(e),alert("删除失败！")})}).catch(function(e){})},adddetail:function(e){var t=this;this.$refs.formName.validate(function(e){if(!e)return!1;var a={csi:t.addDetail};console.log(a),i.default.addOneStaffInfo(a).then(function(e){alert("submit!"),t.getList()}).catch(function(e){console.log(e)}),t.dialogFormVisible=!1})},edit:function(e){this.editDetail={major:e.major,staffTeacherName:e.staffTeacherName,staffGroupType:e.staffGroupType,baseAddress:e.baseAddress,school:e.school,beginDate:e.beginDate,staffId:e.staffId},this.dialogVisible=!0,this.editid=e.staffId},update:function(e,t){var a=this;this.$refs[t].validate(function(e){if(!e)return!1;var t={csi:a.editDetail};console.log(t),i.default.updateOneStaffInfo(t).then(function(e){a.getList()}).catch(function(e){console.log(e)}),a.dialogVisible=!1,alert("submit!")})},handleSelectionChange:function(e){this.multipleSelection=e},add:function(e){if(console.log(this.multipleSelection),console.log(this.multipleSelection.length),1==this.multipleSelection.length){this.checkStaffId=this.multipleSelection[0].staff.staffId;var t=this.$router.resolve({path:"/examineCreat",query:{checkStaffId:this.checkStaffId,staffId:this.staffID}});window.open(t.href,"_blank")}else 0==this.multipleSelection.length?(this.$message("请选择用户"),console.log("请选择用户")):(console.log("只能选择一个用户"),this.$message("只能选择一个用户"))},examineOper:function(e){console.log(e.staffId);var t=this.$router.resolve({path:"/examineDetail",query:{checkStaffId:e.staffId}});window.open(t.href,"_blank")},pageSizeChange:function(e){console.log("每页 "+e+" 条"),this.pageSize=e,this.getList()},currentPageChange:function(e){this.currentPage=e,console.log("当前页: "+e),this.getList()}}}},nUmb:function(e,t,a){t=e.exports=a("lcwS")(!1),t.push([e.i,"table[data-v-159ddcf0]{width:100%;font-size:14px;border:1px solid #eee}table thead th[data-v-159ddcf0]{background:#e5eff8;padding:22px 18px;text-align:center}table tbody td[data-v-159ddcf0]{padding:10px 0 10px 18px;text-align:left;border-bottom:1px solid #eee;border-right:1px solid #eee}table span[data-v-159ddcf0]{margin:0 10px;cursor:pointer}.delete[data-v-159ddcf0]{color:red}.edit[data-v-159ddcf0]{color:#008cd5}.add[data-v-159ddcf0]{border:1px solid #eee;margin-bottom:10px;height:65px;padding:15px 0 15px 15px}tbody tr[data-v-159ddcf0]:hover{background-color:#e5f0f86c}.add button[data-v-159ddcf0]{background:#008cd5;border:0;cursor:pointer;padding:6px 15px;border-radius:3px;color:#fff;margin-left:10px}.hello[data-v-159ddcf0]{margin-top:-10px;margin-bottom:10px}.header-search-input[data-v-159ddcf0]{display:inline-block;right:1%;margin-left:12px;width:300px}.header-search-input input[data-v-159ddcf0]{position:relative;background-color:#fff;border-radius:4px;border:1px solid #d8dce5;display:inline-block;height:35px;line-height:1;outline:0;padding:0 25px 0 15px;width:280px;margin-right:-4px}.query-search-btn[data-v-159ddcf0]{color:#c2d6e7;position:relative;display:inline-block;margin-left:-30px;cursor:pointer}.add-left[data-v-159ddcf0]{font-size:16px}.hello[data-v-159ddcf0]{position:fixed;bottom:0;right:20px}.add-right[data-v-159ddcf0]{margin-right:80px}",""])}});
//# sourceMappingURL=12.f8d6392e.js.map